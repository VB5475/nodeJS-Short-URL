<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>URL Shortener</title>
 </head>
 <body>
  <div>URL Shortener</div>
  <form method="POST" action="/url">
   <label for="inputlink">Enter URL</label>
   <input
    id="inputlink"
    name="url"
    type="url"
    placeholder="https://example.com"
    required />
   <button type="submit">Generate</button>
  </form>

  <div>Table</div>
  <div>
   <% if (locals.urls) { %>
   <table>
    <thead>
     <tr>
      <th>S No.</th>
      <th>Short ID</th>
      <th>Redirect URL</th>
      <th>Clicks</th>
     </tr>
    </thead>
    <tbody>
     <% urls.forEach((url, index) => { %>
     <tr>
      <td><%= index + 1 %></td>
      <td>
       <a href="http://localhost:8001/url/<%= url.shortID %>"
        ><%= url.shortID %></a
       >
      </td>

      <td><%= url.redirectURL %></td>
      <td><%= url.visitHistory.length %></td>
     </tr>
     <% }) %>
    </tbody>
   </table>
   <% } else { %>
   <p>No URLs available</p>
   <% } %>
  </div>
 </body>
</html>
